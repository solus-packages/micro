name       : micro
version    : 1.4.1
release    : 13
source     :
    - https://github.com/zyedidia/micro/releases/download/v1.4.1/micro-1.4.1-src.tar.gz : 0b516826226cf1ddf2fbb274f049cab456a5c162efe3d648f0871564fadcf812
license    : MIT
component  : editor
summary    : Micro is a terminal-based text editor that aims to be easy to use and intuitive
description: |
    Micro is a terminal-based text editor that aims to be easy to use and intuitive, while also taking advantage of the full capabilities of modern terminals
extract    : no
networking : yes
builddeps  :
    - git
    - golang
rundeps    :
    - xclip
setup      : |
    export GOPATH=$workdir
    mkdir -p micro-$version/src/github.com/zyedidia/micro
    tar -xf $sources/micro-$version-src.tar.gz -C micro-$version/src/github.com/zyedidia/micro --strip-components=1
    cd micro-$version/src/github.com/zyedidia/micro/
    %patch -p1 < $pkgfiles/0001-Drop-git-pull-on-update-since-we-re-using-a-tarball.patch
install    : |
    export GOPATH=$workdir
    cd src/github.com/zyedidia/micro
    go get -u github.com/blang/semver
    %make install-all
    install -D -m 00755 $GOPATH/bin/micro $installdir/usr/bin/micro
